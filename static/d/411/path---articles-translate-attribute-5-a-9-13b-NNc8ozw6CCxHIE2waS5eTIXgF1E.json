{"data":{"site":{"siteMetadata":{"title":"Веб-стандарты"}},"markdownRemark":{"id":"2ab4e061-fcc9-5010-a611-7d5d1c02c972","excerpt":"В HTML5 добавлен новый атрибут translate Ричард Ишида  30 июля 2012 В HTML5 недавно  добавился новый атрибут  —  translate . На трёх…","html":"<h1>В HTML5 добавлен новый атрибут translate</h1>\n<p><a href=\"http://people.w3.org/rishida/\">Ричард Ишида</a> 30 июля 2012</p>\n<p>В HTML5 недавно <a href=\"http://dev.w3.org/html5/spec/global-attributes.html#the-translate-attribute\">добавился новый атрибут</a> — <code>translate</code>. На трёх <a href=\"http://multilingualweb.eu/\">семинарах MultilingualWeb</a>, которые мы провели за последние два года, идея такого булева флага — «переводить или не переводить» постоянно вызывает довольно большой интерес у локализаторов, создателей текста, и всех тех, кто работает с языковыми технологиями.</p>\n<h2>Как это работает?</h2>\n<p>Обычно либо автор текста, либо среда вывода, которая автоматически формирует текст, ставит этот атрибут в разметку страницы. Кроме того, в ситуации промышленного перевода локализаторы могут добавлять этот атрибут на стадии подготовки перевода, чтобы избежать множества ошибок перевода при большом количестве языков в одном тексте.</p>\n<p>На рендеринге страницы этот атрибут никак не сказывается (впрочем, можно добавить к нему свои стили, если вы найдёте для этого повод). Планируется, что этот атрибут в основном будет полезен для тех инструментов, которые используются в процессе перевода текста — будь это тщательная работа профессиональных переводчиков, быстрые API или облачные сервисы перевода коротких текстовых фрагментов.</p>\n<p>Этот атрибут может быть применён к любому элементу, и может иметь одно из двух значений: <code>yes</code> или <code>no</code>. Если значение — <code>no</code>, инструменты перевода должны предохранять текст внутри элемента от перевода. Этот инструмент может быть автоматической системой перевода (как, например, в онлайн-сервисах Google или Microsoft) или профессиональной системой перевода, которая не будет давать переводчику случайно изменить текст.</p>\n<p>Если установить этот флаг на элемент, то же самое значение будет применено ко всем вложенным элементам и атрибутам этих элементов.</p>\n<p>Для того, чтобы система работала, не нужно использовать <code>translate=\"yes\"</code>. Если на странице нет атрибута <code>translate</code>, система перевода (или переводчик) должна предположить, что перевести нужно весь текст. Вряд ли значение <code>yes</code> будет использоваться широко, хотя оно может быть очень полезно, если вам нужно переопределить значение флага <code>translate</code> на родительском элементе и указать кусочки текста, которые должны быть переведены. Например, вы можете захотеть перевести комментарии на обычном языке в исходном коде, а сам код оставить без перевода.</p>\n<h2>Зачем это нужно?</h2>\n<p>Потребность в этом встречается довольно-таки часто. В спецификации HTML5 есть <a href=\"http://developers.whatwg.org/elements.html#the-translate-attribute\">пример с игрой про пчелу и мёд</a>. Вот похожий, но на этот раз реальный пример из моего опыта работы в Xerox, где документация, которая переводилась на другой язык, относилась к устройству, на котором текст находился прямо на «железе» и поэтому не переводился.</p>\n<pre><code>&#x3C;p>Click the Resume button on the Status Display or the &#x3C;span class=\"panelmsg\" translate=\"no\">CONTINUE&#x3C;/span> button the printer panel.&#x3C;/p>\n</code></pre>\n<p>Оригинальный текст на английском — <em>прим. переводчика.</em></p>\n<pre><code>&#x3C;p>Нажмите кнопку «Продолжить» на дисплее состояния или кнопку  &#x3C;span class=\"panelmsg\" translate=\"no\">CONTINUE&#x3C;/span> на панели принтера.&#x3C;/p>\n</code></pre>\n<p>Текст при переводе на русский язык — <em>прим. переводчика.</em></p>\n<p>Вот ещё несколько примеров текста из жизни, которым принесет пользу атрибут <code>translate</code>. Отрывок из книги, цитирующий название работы.</p>\n<pre><code>&#x3C;p>The question in the title &#x3C;cite translate=\"no\">How Far Can You Go?&#x3C;/cite> applies to both the undermining of traditional religious belief by radical theology and the undermining of literary convention by the device of “breaking frame”…&#x3C;/p>\n</code></pre>\n<p>Оригинальный текст на английском — <em>прим. переводчика.</em></p>\n<pre><code>&#x3C;p>Вопрос в названии, &#x3C;cite translate=\"no\">How Far Can You Go?&#x3C;/cite>, относится и к отрицательному влиянию радикальной теологии на традиционные религиозные воззрения, и к отрицательному влиянию приема «разрыва рамок» на правила построения литературного произведения…&#x3C;/p>\n</code></pre>\n<p>При переводе на русский язык. На русском языке в таких случаях, впрочем, название работы обычно принято переводить — <em>прим. переводчика.</em></p>\n<p>Следующий пример со страницы о французском хлебе — «хлеб» по-французски «pain».</p>\n<pre><code>&#x3C;p>Welcome to &#x3C;strong translate=\"no\">french pain&#x3C;/strong> on Facebook. Join now to write reviews and connect with &#x3C;strong translate=\"no\">french pain&#x3C;/strong>. Help your friends discover great places to visit by recommending &#x3C;strong translate=\"no\">french pain&#x3C;/strong>.&#x3C;/p>\n</code></pre>\n<p>Оригинальный текст на английском — <em>прим. переводчика.</em></p>\n<pre><code>&#x3C;p>Добро пожаловать на страницу &#x3C;strong translate=\"no\">french pain&#x3C;/strong> на Facebook. Присоединяйтесь, пишите отчеты и свяжитесь с &#x3C;strong translate=\"no\">french pain&#x3C;/strong>. Помогите друзьям узнать отличные новые места, порекомендовав им &#x3C;strong translate=\"no\">french pain&#x3C;/strong>.&#x3C;/p>\n</code></pre>\n<p>При переводе на русский язык. Речь идет о французской компании, которая называется «french pain» — <em>прим. переводчика.</em></p>\n<p>Таким образом, добавив на вашу страницу атрибут <code>translate</code>, вы поможете читателям лучше понять ваш текст, если они читают его через системы автоматического перевода, и значительно сэкономить денежные и временные затраты системам перевода с большим потоком информации на разных языках.</p>\n<h2>Как обстоят дела у Google Translate и Microsoft Translator?</h2>\n<p>Службы перевода Google и Microsoft и ранее предоставляли возможность предохранять текст от перевода посредством добавления разметки, но делали они это (несколькими) разными способами. Будем надеяться, что новый атрибут очень поможет тем, что предоставит стандартный подход.</p>\n<p>И Google, и Microsoft в настоящее время поддерживают синтаксис <code>class=\"notranslate\"</code>, но замена названия класса атрибутом — формальной частью языка — сделает эту функцию гораздо более надежной, особенно в более широких контекстах. Например, инструмент переводчика может всегда считать, что HTML5-атрибут <code>translate</code> значит именно то, что он должен значить. Становится проще портировать эту идею и для других сценариев использования: скажем, для других API перевода или стандартов локализации (например, XLIFF).</p>\n<p>Кстати, онлайн-сервис перевода компании Microsoft (которая, собственно, и предложила флаг <code>translate</code> в HTML5 некоторое время назад) уже поддерживает <code>translate=\"no\"</code>. До сих пор, конечно, это был проприетарный атрибут, и Google не поддерживал его. Однако, буквально вчера утром я совершенно случайно узнал, что Webkit и Chromium только что добавили поддержку атрибута <code>translate</code>, а вчера днем Google добавил поддержку <code>translate=\"no\"</code> к своему сервису онлайн-перевода. <a href=\"http://www.w3.org/International/tests/html-css/translate/results-online\">Вот результаты нескольких тестов</a>, которые я провел этим утром. Ни Microsoft, ни Google пока не поддерживают переопределение <code>translate=\"yes\"</code>. <em>Статья опубликована 22 февраля 2012 года (прим. переводчика)</em></p>\n<p>Во всех этих проприетарных системах, впрочем, есть масса нестандартных способов синтаксически выразить эту же идею (даже если мы говорим только о Google и Microsoft).</p>\n<p>Так, Microsoft поддерживает <code>style=\"notranslate\"</code>. Google не поддерживает этот синтаксис в списке возможных флагов для своего онлайн-сервиса перевода, но зато у них есть варианты, которые недоступны в сервисе Microsoft.</p>\n<p>Например, если у вас есть целая страница, которая не должна переводиться, можете добавить <code>&#x3C;meta name=\"google\" value=\"notranslate\"></code> внутри элемента <code>&#x3C;head></code> вашей страницы, и Google не будет переводить никакой текст на этой странице. А еще они поддерживают <code>&#x3C;meta name=\"google\" content=\"notranslate\"></code>. Конечно, это не должно быть специфично для Google, и единообразный способ делать это, то есть <code>translate=\"no\"</code> для элемента <code>&#x3C;html></code> — гораздо более удачное решение.</p>\n<p>Также непонятно, кстати, и с тем, и с другим сервисом перевода, как делать доступными для перевода вложенные элементы внутри элемента, для которого <code>translate</code> установлено в значении <code>no</code> — а это иногда может понадобиться.</p>\n<p>Как говорилось выше, новый HTML5-атрибут использует простую и стандартную возможность HTML, которая может заменить и упростить все эти различные подходы. И, конечно, это поможет авторам создавать такое текстовое содержимое, настройки локализации которого будут работать и с другими системами.</p>\n<h2>А почему не использовать просто атрибут <code>lang</code>?</h2>\n<p>Конечно, во время дискуссий о том, как правильно реализовать флаг <code>translate</code>, кто-нибудь обязательно должен был предложить именно это, но перегружать текст метками языков — это не решение. Например, языковая метка может указывать, какой орфографический словарь использовать для проверки какого текста. Это не имеет ничего общего с тем, нужно переводить текст или нет. Это разные концепции. Если в документе, где у элемента <code>&#x3C;html></code> указан <code>lang=\"en\"</code>, дальше на странице вы поставите <code>lang=\"notranslate\"</code>, орфография в тексте не будет проверяться, потому что указанный язык уже не английский. Кроме того, стили для <code>lang</code> перестанут работать, голосовые браузеры не будут правильно произносить текст и т.п.</p>\n<h2>Больше, чем просто атрибут <code>translate</code></h2>\n<p>Рекомендация <a href=\"http://www.w3.org/TR/its/\">ITS (Internationalization Tag Set)</a>, сделанная W3C, предлагает использовать флаг возможности автоматического перевода в таком виде, как атрибут <code>translate</code>, только что добавленный к HTML5, но идёт дальше и описывает способ присвоить значение флага каким-либо элементам или наборам разметки по всему документу или в наборе документов. Например, вы можете определить (если так нужно для вашего содержимого), что по умолчанию все элементы <code>&#x3C;p></code> с указанным классом должны иметь флаг <code>translate</code> в значении <code>no</code> в каком-либо конкретном наборе документов.</p>\n<p><em>Накануне публикации перевода был представлен первый <a href=\"http://www.w3.org/TR/2012/WD-its20-20120731/\">рабочий черновик ITS 2.0</a>, следующей версии спецификации — прим. редактора.</em></p>\n<p>Microsoft уже предлагает что-то в этом духе, хотя их подход предоставляет гораздо меньше возможностей, чем рекомендация ITS. Если вы пишете где-либо на странице (или в виджете) <code>&#x3C;meta name=\"microsoft\" content=\"notranslateclasses myclass1 myclass2\"></code>, то эта строчка гарантирует, что все CSS-классы, перечисленные после директивы <code>notranslateclasses</code>, будут вести себя так же, как класс <code>notranslate</code>.</p>\n<p>Кроме того, движки автоматического перевода Microsoft и Google не переводят содержимое элементов <code>&#x3C;code></code>. Впрочем, обратите внимание, что относительно этого у вас особенно нет выбора — нет никаких инструкций относительно того, как переопределить это значение, если вы хотите, чтобы содержимое вашего элемента <code>&#x3C;code></code> всё же было бы переведено.</p>\n<p>Кстати, в ближайших планах W3C есть организаций новой рабочей группы совместно с проектом Европейской Комиссии — MultilingualWeb-LT — чтобы дальше развивать идеи по спецификации ITS и разработать ряд её практических реализаций. Помимо всего прочего, эта группа будет искать новые способы интеграции нового атрибута <code>translate</code> в процессы и стандарты индустрии локализации. Ждите, скоро всё будет!</p>\n<p>Перевод оригинальной записи «<a href=\"http://rishida.net/blog/?p=831\">HTML5 adds new translate attribute</a>» Ричарда Ишиды (Richard Ishida).</p>\n<p>Перевод выполнил <a href=\"http://www.facebook.com/vlad.andersen\">Влад Андерсен</a>.</p>","frontmatter":{"title":"В HTML5 добавлен новый атрибут translate","date":"30 июля 2012"}}},"pageContext":{"slug":"/articles/translate-attribute/"}}