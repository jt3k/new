{"data":{"site":{"siteMetadata":{"title":"Веб-стандарты"}},"markdownRemark":{"id":"9f2bd093-74bb-50af-ac70-f76c04968005","excerpt":"Как работает nth-child Крис Койер  21 ноября 2011 Существует такой селектор, точнее псевдокласс, называемый  :nth-child . Вот пример его…","html":"<h1>Как работает nth-child</h1>\n<p><a href=\"http://css-tricks.com/\">Крис Койер</a> 21 ноября 2011</p>\n<p>Существует такой селектор, точнее псевдокласс, называемый <code>:nth-child</code>. Вот пример его использования:</p>\n<pre><code>ul li:nth-child(3n+3) {\n    color: #cccccc;\n}\n</code></pre>\n<p>Что делает CSS-код, приведенный выше? Он выбирает каждый третий элемент внутри маркированного списка: это 3-й, 6-й, 9-й, 12-й и т.д. Давайте посмотрим, как именно работает это выражение и что еще можно сделать с помощью <code>:nth-child</code>.</p>\n<p>Всё зависит от того, что находится между скобками. Селектор <code>:nth-child</code> принимает два ключевых слова: <code>even</code> и <code>odd</code>. Тут всё просто: <code>even</code> выбирает чётные элементы, такие как 2-й, 4-й, 6-й и т.д., а <code>odd</code> выбирает нечётные элементы, такие как 1-й, 3-й, 5-й и т.д.</p>\n<p>Как видно из первого примера, <code>:nth-child</code> также принимает в качестве параметра выражения. В том числе и простейшие уравнения, иначе говоря, просто числа. Если поставить их в скобки, будет выбран только один элемент с соответствующим номером. Например, вот как выбрать только пятый элемент:</p>\n<pre><code>ul li:nth-child(5) {\n    color: #cccccc;\n}\n</code></pre>\n<p>Однако давайте вернемся к <code>3n+3</code> из первого примера. Как он работает и почему выбирается каждый третий элемент? Весь фокус в понимании переменной <code>n</code> и приведенного алгебраического уравнения. Подумайте об <code>n</code>, как о начинающемся с нуля множестве целых чисел. Потом дополните уравнение. Так <code>3n</code> это <code>3×n</code>, а все уравнение вместе это <code>(3×n)+3</code>. Теперь, подставляя вместо <code>n</code> числа больше или равные нулю, мы получим:</p>\n<ul>\n<li>(3 × 0) + 3 = 3 = 3-й элемент</li>\n<li>(3 × 1) + 3 = 6 = 6-й элемент</li>\n<li>(3 × 2) + 3 = 9 = 9-й элемент и т.д.</li>\n</ul>\n<p>А как насчёт <code>:nth-child(2n+1)</code>?</p>\n<ul>\n<li>(2 × 0) + 1 = 1 = 1-й элемент</li>\n<li>(2 × 1) + 1 = 3 = 3-й элемент</li>\n<li>(2 × 2) + 1 = 5 = 5-й элемент и т.д.</li>\n</ul>\n<p>Так, стоп! Это ведь то же самое, что и <code>odd</code>. Тогда, возможно, не стоит использовать это выражение? Но разве в этом случае мы не подвергаем наш первый пример излишнему усложнению? Что, если вместо <code>3n+3</code> мы запишем <code>3n+0</code> или ещё проще <code>3n</code>?</p>\n<ul>\n<li>(3 × 0) = 0 = ничего нет</li>\n<li>(3 × 1) = 3 = 3-й элемент</li>\n<li>(3 × 2) = 6 = 6-й элемент</li>\n<li>(3 × 3) = 9 = 9-й элемент и т.д.</li>\n</ul>\n<p>Итак, как вы можете видеть, результат получится такой же, а значит, нет необходимости в <code>+3</code>. Мы можем использовать и отрицательные значения <code>n</code>, с таким же успехом, как и вычитание в уравнениях. Например, <code>4n-1</code>:</p>\n<ul>\n<li>(4 × 0) – 1 = –1 = ничего нет</li>\n<li>(4 × 1) – 1 = 3 = 3-й элемент</li>\n<li>(4 × 2) – 1 = 7 = 7-й элемент и т.д.</li>\n</ul>\n<p>Использование <code>-n</code> может показаться странным — ведь если конечный результат отрицательный, то никакие элементы в выборку не попадут. Но если дополнить уравнение и снова сделать результат положительным, то выборка окажется довольно интересной: при помощи неё можно будет получить первые <code>n</code> элементов, например так: <code>-n+3</code>:</p>\n<ul>\n<li>–0 + 3 = 3 = 3-й элемент</li>\n<li>–1 + 3 = 2 = 2-й элемент</li>\n<li>–2 + 3 = 1 = 1-й элемент</li>\n<li>–3 + 3 = 0 = ничего нет и т.д.</li>\n</ul>\n<p>На SitePoint есть хороший справочник <a href=\"http://reference.sitepoint.com/css/understandingnthchildexpressions\">с милой табличкой</a>, которую я бесстыдно опубликую здесь:</p>\n<table>\n<thead>\n<tr>\n<th>n</th>\n<th>2n+1</th>\n<th>4n+1</th>\n<th>4n+4</th>\n<th>4n</th>\n<th>5n-2</th>\n<th>-n+3</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>4</td>\n<td>–</td>\n<td>–</td>\n<td>3</td>\n</tr>\n<tr>\n<td>1</td>\n<td>3</td>\n<td>5</td>\n<td>8</td>\n<td>4</td>\n<td>3</td>\n<td>2</td>\n</tr>\n<tr>\n<td>2</td>\n<td>5</td>\n<td>9</td>\n<td>1</td>\n<td>8</td>\n<td>8</td>\n<td>1</td>\n</tr>\n<tr>\n<td>3</td>\n<td>7</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>–</td>\n</tr>\n<tr>\n<td>4</td>\n<td>9</td>\n<td>17</td>\n<td>20</td>\n<td>16</td>\n<td>18</td>\n<td>–</td>\n</tr>\n<tr>\n<td>5</td>\n<td>11</td>\n<td>21</td>\n<td>24</td>\n<td>20</td>\n<td>23</td>\n<td>–</td>\n</tr>\n</tbody>\n</table>\n<h2>Поддержка браузерами</h2>\n<p>Селектор <code>:nth-child</code> — один из немногих CSS-селекторов, который почти полностью поддерживается в современных браузерах и абсолютно не поддерживается в IE, даже в IE8. Поэтому когда дело доходит до его использования, и конечный результат сделан по технологии прогрессивного улучшения — вы можете смело использовать его для некоторых оформительских элементов, вроде расцветки строк таблицы. Однако не стоит применять его в более серьезных случаях. Например, полагаться на него в раскладке сайта или удалять правое поле из каждого третьего блока в сетке три на три, чтобы они вошли в ряд.</p>\n<p>Спасением здесь может послужить библиотека <a href=\"http://jquery.com/\">jQuery</a>, которая реализует поддержку всех CSS-селекторов, включая <code>:nth-child</code>, даже в Internet Explorer.</p>\n<h2>Всё равно неясно?</h2>\n<p>Я не большой поклонник фразы <em>я лучше воспринимаю визуальную информацию</em>. И вы, конечно, тоже. Но примеры являются чрезвычайно полезными именно в таких ситуациях. Чтобы облегчить понимание, я сделал <a href=\"http://css-tricks.com/examples/nth-child-tester/\">небольшую тестовую страничку</a>. На ней вы сможете написать свои уравнения и ниже увидеть то, что попадет в выборку.</p>\n<p>Также загляните на страничку <a href=\"http://css-tricks.com/9657-useful-nth-child-recipies/\">полезных рецептов <code>:nth-child</code></a>, там вы сможете найти код для наиболее распространенных случаев.</p>\n<p>Перевод оригинальной статьи «<a href=\"http://css-tricks.com/5452-how-nth-child-works/\">How nth-child Works</a>» <a href=\"http://snook.ca/about/\">Криса Койера</a> (Chris Coyier), опубликованной на сайте «<a href=\"http://css-tricks.com/\">CSS-Tricks</a>».</p>","frontmatter":{"title":"Как работает nth-child","date":"21 ноября 2011"}}},"pageContext":{"slug":"/articles/nth-child/"}}