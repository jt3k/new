{"data":{"site":{"siteMetadata":{"title":"Веб-стандарты"}},"markdownRemark":{"id":"542a9151-3008-53c2-be07-1f0d75db6f84","excerpt":"Ключевые слова в линейных градиентах Эрик Мейер  24 июля 2012 Использование линейных градиентов в CSS может приводить к самым разнообразным…","html":"<h1>Ключевые слова в линейных градиентах</h1>\n<p><a href=\"http://meyerweb.com/\">Эрик Мейер</a> 24 июля 2012</p>\n<p>Использование линейных градиентов в CSS может приводить к самым разнообразным результатам, которые не назовёшь иначе как странными; иногда даже сам синтаксис кажется странным.</p>\n<p>Давайте я сразу замечу, что кое-что из того, о чём я здесь рассказываю, еще не поддерживается широко, и даже, по правде говоря, эта спецификация еще не зафиксирована раз и навсегда. Скорее всего, она такой и останется, но могут быть и какие-то изменения. Даже если этого не случится — эта статья не о новом <strong>«используйте прямо сейчас!»</strong> приёме. Как и многое из того, что я пишу, это скорее маленькая прогулка по одному из уголков CSS с целью посмотреть, есть ли здесь что-нибудь интересное.</p>\n<p>Хотя линейные градиенты кажутся очень сложными, в действительности они довольно просты. Вы определяете направление, по которому идет градиент, а затем — перечисляете столько контрольных точек цвета, сколько хотите. Таким образом, вы описываете изображение текстом, примерно как SVG. Это довольно важный пункт, его стоит помнить: линейный (и радиальный) градиент — это картинка, точно такая же, как любой GIF и PNG. Это означает, помимо всего прочего, что можно совместно использовать растровые изображения и градиенты в фоне элемента, используя синтаксис множественных фоновых изображений.</p>\n<p>Но вернёмся к градиентам. Вот совсем простое градиентное изображение:</p>\n<pre><code>linear-gradient(45deg, red, blue)\n</code></pre>\n<p>Значение <code>45deg</code> описывает линию градиента, то есть ту линию, которая определяет направление градиента. Линия градиента всегда проходит через центр фоновой области элемента, и в каком именно направлении она пройдет, определяете вы, автор CSS. В этом примере линия грандиента направлена на угол в 45% от горизонтальной оси элемента. Значения <code>red</code> и <code>blue</code> — контрольные точки цвета. Здесь в цветах не определены положения контрольных точек, поэтому эти значения принимаются равными 0% и 100% соответственно, то есть вы получаете градиент, который переходит от красного к синему и идёт по указанному направлению.</p>\n<p>Можно создать контрольные точки таким образом, чтобы переход между ними был резким:</p>\n<pre><code>linear-gradient(45deg, green 50%, lightblue 50%)\n</code></pre>\n<figure>\n    \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; ; max-width: 510px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAAs0lEQVQY02NgaGCAI6ZGJoYaBqt5vptuvV1/8+W6W8+Xnb8z6+DZDbdfrbn+dO2NZ2iIAVkzEDEC9Vcz2M4LXHvzGVBz19rt03Yf33j3NVGawfYzA+13nBXctWTzghNXN97DrhO7ZoZGBsYmJoZEButWz413Xq+78Xz19SdEa65nYMhiYCpnBrLt5gevv/Vyw82XxDm7kYGhloGhkoGhiYGpgRnIsJkXsOr6I6DSNTfQ9QMAzaa23vnbDlMAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\" alt=\"pic 1\" title=\"\" src=\"/static/pic-1-099579f422a68cf0c14b23d0ec868a43-fa387.png\" srcset=\"/static/pic-1-099579f422a68cf0c14b23d0ec868a43-844a8.png 163w,\n/static/pic-1-099579f422a68cf0c14b23d0ec868a43-fe46c.png 325w,\n/static/pic-1-099579f422a68cf0c14b23d0ec868a43-fa387.png 510w\" sizes=\"(max-width: 510px) 100vw, 510px\">\n    </span>\n  </span>\n  \n    <figcaption>&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 1.</figcaption>\n</figure>\n<p>Так вы получите результат, показанный на рисунке 1, к которому я добавил (в Photoshop) стрелку, которая показывает направление линии градиента и центральную точку фоновой области. Каждая «полоска», составляющая градиент, перпендикулярна линии градиента — поэтому граница между двумя цветами в точке 50% перпендикулярна по отношению к линии градиента. Этот закон перпендикулярности работает всегда.</p>\n<p>Определять направление в градусах — это замечательно (и, чтобы соответствовать синтаксису анимаций, математическое определение градусов будет заменено на углы по компасу, но об этом в другой раз), но можно ещё использовать и ключевые слова, описывающие направления. Причем двух разных типов.</p>\n<p><em><strong>Обратите внимание,</strong> что задания направления градиента с помощью ключевых слов <strong>без</strong> ключевого слова <code>to</code>, описанное дальше, справедливо только для старой версии спецификации и применяется только для градиентов с префиксами. Прим. редактора.</em></p>\n<p>Первый вариант использования — это просто объявить направление, перемешав и подставив слова из набора <code>top</code>, <code>bottom</code>, <code>right</code> и <code>left</code>. Диковатенько здесь то, что в этом случае вы определяете не то направление, куда двигается градиент, а откуда он выходит; то есть вы должны определить положение его начальной, а не конечной точки. Соответственно, если вы хотите, чтобы градиент шёл из нижнего левого угла в верхний правый, надо писать <code>bottom left</code>:</p>\n<pre><code>linear-gradient(bottom left, green 50%, lightblue 50%)\n</code></pre>\n<figure>\n    \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; ; max-width: 510px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAAqklEQVQY02NgaGBAQ0yNzAxVDCGr8nfe+7by6sMNt1+tu/Vi7fWna288Q0MMWDQ3MDFUM6hNNV53+8Wme28Wnb6+/OK9dTefE6WZsZERSPJU8tUvWzp914mWZRsWHL+y/vbLNRiWY2huZGAoYmDMYWTIYIidUrbh2qu1t55h1YndZqCHmeqYGWoZrBf6bbv7afW1x1h14tDcCHZ5HQNPq8D8i5c33HqFSzMAtBe2CedqIT4AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\" alt=\"pic 2\" title=\"\" src=\"/static/pic-2-529d0c9ea195a26bad92995ae9cd5da5-fa387.png\" srcset=\"/static/pic-2-529d0c9ea195a26bad92995ae9cd5da5-844a8.png 163w,\n/static/pic-2-529d0c9ea195a26bad92995ae9cd5da5-fe46c.png 325w,\n/static/pic-2-529d0c9ea195a26bad92995ae9cd5da5-fa387.png 510w\" sizes=\"(max-width: 510px) 100vw, 510px\">\n    </span>\n  </span>\n  \n    <figcaption>&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 2.</figcaption>\n</figure>\n<p>Но <code>bottom left</code> — не то же самое, что <code>45deg</code> (это справедливо только в том случае, если фоновая область элемента — правильный квадрат) Если эта область неквадратна, то линия градиента идет из одного угла в другой, а разделительные полоски — перпендикулярно ей, как на рисунке 2. И снова для ясности я добавил стрелку, показывающую градиентную линию, и центральную точку в Photoshop.</p>\n<p>Естественно, это означает, что если фоновая область элемента изменит свои размеры по ширине или высоте, угол линии градиента тоже изменится. Если элемент станет шире по вертикали или уже по горизонтали, то линия повернется против часовой стрелки; уже по вертикали и шире по горизонтали — по часовой. Вполне возможно, именно такой вариант вам и нужен. Во всяком случае, он явно отличается от задания значения угла в градусах, при котором градиент не будет поворачиваться никуда, как бы ни менялся размер фона элемента.</p>\n<p><em><strong>Обратите внимание,</strong> что способ задания направления градиента с ключевым словом <code>to</code>, описанный дальше, по стабильной версии спецификации является единственным возможным способом, и должен применяться только для градиентов без префикса. Прим. редактора.</em></p>\n<p>Другой способ использовать ключевые слова выглядит похоже, но результат у него совершенно другой. Вы используете те же самые определения <code>top/bottom/left/right</code>, но перед ними пишете ключевое слово <code>to</code>, вот так:</p>\n<pre><code>linear-gradient(to top right, green 50%, lightblue 50%)\n</code></pre>\n<figure>\n    \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; ; max-width: 510px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 29.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAABEElEQVQY02PwW55ef2DF0iu3t9/9vOv+982336298Wz1tcfrbr1YdPL68ov31t18ARTBihgYqhkY6hgEOyVs5gdkbeudeuYYUHTr7Y9bH35qW7l55qHTa289W3Xt8ZobT7FoZmpkZmgA6WeoAhnE2syuOdUsfF1pw44VrUvW7Lj/ZcvtDxtuvlp9/cmq649WX0cxhQGks4GBsYERaAqQZKgHu6WWga2QRaFIxW1pTNmeuXMvXNx658POe1+33H4P1AM0BYiApkA1IyOmBiamFmaGPAaGCgaGGkaGGgbedkGT2a7Jm1smnNy/5vrTHfe+bLkDdM5LLJqhqBrJORBPVYHMVZig5bM8te7A8kWXrwMAY863bohk5LgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\" alt=\"pic 3\" title=\"\" src=\"/static/pic-3-9f063e8eba807946bcc23223a35eb128-fa387.png\" srcset=\"/static/pic-3-9f063e8eba807946bcc23223a35eb128-844a8.png 163w,\n/static/pic-3-9f063e8eba807946bcc23223a35eb128-fe46c.png 325w,\n/static/pic-3-9f063e8eba807946bcc23223a35eb128-fa387.png 510w\" sizes=\"(max-width: 510px) 100vw, 510px\">\n    </span>\n  </span>\n  \n    <figcaption>&#x420;&#x438;&#x441;&#x443;&#x43D;&#x43E;&#x43A; 3.</figcaption>\n</figure>\n<p>В этом случае ясно, что вы определяете конечную точку линии градиента, а не начальную — в конце концов, вы же пишете <code>to top right</code>. Однако, в таком случае вы не направляете градиент в правый верхний угол фоновой области элемента. Вы определяете общее направление — вперед и направо. Результат предыдущего определения виден на рисунке 3: снова стрелка с линией градиента добавлена в Photoshop.</p>\n<p>Обратите внимание на линию резкого разделения между контрольными точками. Она идет от левого верхнего угла в правый нижний (ни тот, ни другой — не <code>top right</code>). Так происходит потому, что, написав ключевое слово <code>to</code> в начале определения, мы включили то, что называется «магическими углами». Когда «магические углы» включены, то как бы фоновая область элемента ни изменяла свой размер, эта разделительная линия всегда будет идти из левого верхнего в правый нижний угол. Собственно, вот это и есть магические углы. Таким образом, линия градиента направлена не в правый верхний угол (только если фоновая область элемента — правильный квадрат), а в правый верхний квадрант фоновой области. По-видимому, термин «магические квадранты» посчитали менее удачным, чем «магические углы».</p>\n<p>Если размер фоновой области изменится, эффект будет тем же самым, что в прошлый раз; уменьшим высоту или увеличим ширину фоновой области — линия градиента повернется по часовой стрелке; сделаем обратные изменения размера — линия пойдет в обратном направлении. Единственная разница — в начальном состоянии.</p>\n<p>Итак: если вы хотите использовать ключевые слова, которые заставляют градиент быть всегда направленным в угол (как на рис. 2), но хотите указать направление, а не исходную точку — то этого сделать не получится. Точно так же нельзя указать и исходный квадрант, в котором начинается градиент. Чтобы получилась линия градиента, которая всегда идет из угла в угол, нужно объявить начальную точку линии градиента (рис. 2). Если вы хотите получить эффект «магических углов», когда линия контрольной точки цвета на 50% всегда идет из угла в угол, нужно объявить квадрант направления (рис. 3).</p>\n<p>Теперь что касается собственно поддержки: на момент написания статьи <em>(26 апреля 2012, прим. редактора)</em> только Firefox и Opera поддерживают «магические углы». Все остальные браузеры — IE10 в случае Internet Explorer — поддерживают математические углы и ключевые слова без «магических углов» (то есть Opera и Firefox поддерживают оба типа). Никто ещё не переключился с математических углов на углы по компасу (я совершенно специально использовал значение <code>45deg</code>, поскольку в обеих системах оно описывает одно и то же направление).</p>\n<p><em><strong>Обратите внимание,</strong> что на момент публикации перевода (27 июля 2012) спецификацию в полной мере (включая направление поворота и ключевое слово <code>to</code>) поддерживают без префиксов: тестовая версия Firefox 16 Aurora и последняя тестовая версия IE10 в составе Windows 8 Release Preview. Прим. редактора.</em></p>\n<p>Таково состояние дел с линейными градиентами прямо сейчас. Мне очень интересно узнать, что вы думаете о различных форматах ключевых слов и их принципах работы — у меня самого были вначале некие проблемы с их пониманием, и то, что у двух форматов синтаксиса совершенно разные результаты, по-моему, делает всё это довольно-таки запутанным. А вы что скажете?</p>\n<p>Перевод оригинальной записи «<a href=\"http://meyerweb.com/eric/thoughts/2012/04/26/lineargradient-keywords/\">Linear Gradient Keywords</a>» Эрика Мейера (Eric Meyer). Переведено и опубликовано с разрешения автора.</p>\n<p>Перевод выполнил <a href=\"http://www.facebook.com/vlad.andersen\">Влад Андерсен</a>.</p>","frontmatter":{"title":"Ключевые слова в линейных градиентах","date":"24 июля 2012"}}},"pageContext":{"slug":"/articles/linear-gradient-keywords/"}}