<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.0.1"/><title data-react-helmet="true"></title><link as="script" rel="preload" href="/component---src-templates-article-jsx-45c82757c31814993ac5.js"/><link as="script" rel="preload" href="/app-d6d0aa46cc7a8319a706.js"/><link as="script" rel="preload" href="/webpack-runtime-49e87d415bc1f49f59fb.js"/><link rel="preload" href="/static/d/557/path---articles-nth-child-bc-6-e7b-vnVGsYyal1DLN7gKD8bv3oJU.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="article"><h1 class="article__title">Как работает nth-child</h1><div class="article__date">21 ноября 2011</div><div class="article__content"><h1>Как работает nth-child</h1>
<p><a href="http://css-tricks.com/">Крис Койер</a> 21 ноября 2011</p>
<p>Существует такой селектор, точнее псевдокласс, называемый <code>:nth-child</code>. Вот пример его использования:</p>
<pre><code>ul li:nth-child(3n+3) {
    color: #cccccc;
}
</code></pre>
<p>Что делает CSS-код, приведенный выше? Он выбирает каждый третий элемент внутри маркированного списка: это 3-й, 6-й, 9-й, 12-й и т.д. Давайте посмотрим, как именно работает это выражение и что еще можно сделать с помощью <code>:nth-child</code>.</p>
<p>Всё зависит от того, что находится между скобками. Селектор <code>:nth-child</code> принимает два ключевых слова: <code>even</code> и <code>odd</code>. Тут всё просто: <code>even</code> выбирает чётные элементы, такие как 2-й, 4-й, 6-й и т.д., а <code>odd</code> выбирает нечётные элементы, такие как 1-й, 3-й, 5-й и т.д.</p>
<p>Как видно из первого примера, <code>:nth-child</code> также принимает в качестве параметра выражения. В том числе и простейшие уравнения, иначе говоря, просто числа. Если поставить их в скобки, будет выбран только один элемент с соответствующим номером. Например, вот как выбрать только пятый элемент:</p>
<pre><code>ul li:nth-child(5) {
    color: #cccccc;
}
</code></pre>
<p>Однако давайте вернемся к <code>3n+3</code> из первого примера. Как он работает и почему выбирается каждый третий элемент? Весь фокус в понимании переменной <code>n</code> и приведенного алгебраического уравнения. Подумайте об <code>n</code>, как о начинающемся с нуля множестве целых чисел. Потом дополните уравнение. Так <code>3n</code> это <code>3×n</code>, а все уравнение вместе это <code>(3×n)+3</code>. Теперь, подставляя вместо <code>n</code> числа больше или равные нулю, мы получим:</p>
<ul>
<li>(3 × 0) + 3 = 3 = 3-й элемент</li>
<li>(3 × 1) + 3 = 6 = 6-й элемент</li>
<li>(3 × 2) + 3 = 9 = 9-й элемент и т.д.</li>
</ul>
<p>А как насчёт <code>:nth-child(2n+1)</code>?</p>
<ul>
<li>(2 × 0) + 1 = 1 = 1-й элемент</li>
<li>(2 × 1) + 1 = 3 = 3-й элемент</li>
<li>(2 × 2) + 1 = 5 = 5-й элемент и т.д.</li>
</ul>
<p>Так, стоп! Это ведь то же самое, что и <code>odd</code>. Тогда, возможно, не стоит использовать это выражение? Но разве в этом случае мы не подвергаем наш первый пример излишнему усложнению? Что, если вместо <code>3n+3</code> мы запишем <code>3n+0</code> или ещё проще <code>3n</code>?</p>
<ul>
<li>(3 × 0) = 0 = ничего нет</li>
<li>(3 × 1) = 3 = 3-й элемент</li>
<li>(3 × 2) = 6 = 6-й элемент</li>
<li>(3 × 3) = 9 = 9-й элемент и т.д.</li>
</ul>
<p>Итак, как вы можете видеть, результат получится такой же, а значит, нет необходимости в <code>+3</code>. Мы можем использовать и отрицательные значения <code>n</code>, с таким же успехом, как и вычитание в уравнениях. Например, <code>4n-1</code>:</p>
<ul>
<li>(4 × 0) – 1 = –1 = ничего нет</li>
<li>(4 × 1) – 1 = 3 = 3-й элемент</li>
<li>(4 × 2) – 1 = 7 = 7-й элемент и т.д.</li>
</ul>
<p>Использование <code>-n</code> может показаться странным — ведь если конечный результат отрицательный, то никакие элементы в выборку не попадут. Но если дополнить уравнение и снова сделать результат положительным, то выборка окажется довольно интересной: при помощи неё можно будет получить первые <code>n</code> элементов, например так: <code>-n+3</code>:</p>
<ul>
<li>–0 + 3 = 3 = 3-й элемент</li>
<li>–1 + 3 = 2 = 2-й элемент</li>
<li>–2 + 3 = 1 = 1-й элемент</li>
<li>–3 + 3 = 0 = ничего нет и т.д.</li>
</ul>
<p>На SitePoint есть хороший справочник <a href="http://reference.sitepoint.com/css/understandingnthchildexpressions">с милой табличкой</a>, которую я бесстыдно опубликую здесь:</p>
<table>
<thead>
<tr>
<th>n</th>
<th>2n+1</th>
<th>4n+1</th>
<th>4n+4</th>
<th>4n</th>
<th>5n-2</th>
<th>-n+3</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>–</td>
<td>–</td>
<td>3</td>
</tr>
<tr>
<td>1</td>
<td>3</td>
<td>5</td>
<td>8</td>
<td>4</td>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>5</td>
<td>9</td>
<td>1</td>
<td>8</td>
<td>8</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>7</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>–</td>
</tr>
<tr>
<td>4</td>
<td>9</td>
<td>17</td>
<td>20</td>
<td>16</td>
<td>18</td>
<td>–</td>
</tr>
<tr>
<td>5</td>
<td>11</td>
<td>21</td>
<td>24</td>
<td>20</td>
<td>23</td>
<td>–</td>
</tr>
</tbody>
</table>
<h2>Поддержка браузерами</h2>
<p>Селектор <code>:nth-child</code> — один из немногих CSS-селекторов, который почти полностью поддерживается в современных браузерах и абсолютно не поддерживается в IE, даже в IE8. Поэтому когда дело доходит до его использования, и конечный результат сделан по технологии прогрессивного улучшения — вы можете смело использовать его для некоторых оформительских элементов, вроде расцветки строк таблицы. Однако не стоит применять его в более серьезных случаях. Например, полагаться на него в раскладке сайта или удалять правое поле из каждого третьего блока в сетке три на три, чтобы они вошли в ряд.</p>
<p>Спасением здесь может послужить библиотека <a href="http://jquery.com/">jQuery</a>, которая реализует поддержку всех CSS-селекторов, включая <code>:nth-child</code>, даже в Internet Explorer.</p>
<h2>Всё равно неясно?</h2>
<p>Я не большой поклонник фразы <em>я лучше воспринимаю визуальную информацию</em>. И вы, конечно, тоже. Но примеры являются чрезвычайно полезными именно в таких ситуациях. Чтобы облегчить понимание, я сделал <a href="http://css-tricks.com/examples/nth-child-tester/">небольшую тестовую страничку</a>. На ней вы сможете написать свои уравнения и ниже увидеть то, что попадет в выборку.</p>
<p>Также загляните на страничку <a href="http://css-tricks.com/9657-useful-nth-child-recipies/">полезных рецептов <code>:nth-child</code></a>, там вы сможете найти код для наиболее распространенных случаев.</p>
<p>Перевод оригинальной статьи «<a href="http://css-tricks.com/5452-how-nth-child-works/">How nth-child Works</a>» <a href="http://snook.ca/about/">Криса Койера</a> (Chris Coyier), опубликованной на сайте «<a href="http://css-tricks.com/">CSS-Tricks</a>».</p></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-article-jsx","jsonName":"articles-nth-child-bc6","path":"/articles/nth-child/"};window.dataPath="557/path---articles-nth-child-bc-6-e7b-vnVGsYyal1DLN7gKD8bv3oJU";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-d6d0aa46cc7a8319a706.js"],"component---src-templates-article-list-jsx":["/component---src-templates-article-list-jsx-b2857871934e9a044ec0.js"],"component---src-templates-article-jsx":["/component---src-templates-article-jsx-45c82757c31814993ac5.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx.4282b1e8f5a862472bb9.css","/component---src-pages-404-jsx-51366b521d977380588a.js"],"component---src-pages-articles-jsx":["/component---src-pages-articles-jsx.4282b1e8f5a862472bb9.css","/component---src-pages-articles-jsx-108f450be88982059d31.js"],"component---src-pages-events-jsx":["/component---src-pages-events-jsx.4282b1e8f5a862472bb9.css","/component---src-pages-events-jsx-60d370274f276520b18e.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx.4282b1e8f5a862472bb9.css","/component---src-pages-index-jsx-37c6ff1321838614c8ad.js"]};/*]]>*/</script><script src="/webpack-runtime-49e87d415bc1f49f59fb.js" async=""></script><script src="/app-d6d0aa46cc7a8319a706.js" async=""></script><script src="/component---src-templates-article-jsx-45c82757c31814993ac5.js" async=""></script></body></html>