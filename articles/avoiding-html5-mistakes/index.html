<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.0.1"/><title data-react-helmet="true"></title><link as="script" rel="preload" href="/component---src-templates-article-jsx-45c82757c31814993ac5.js"/><link as="script" rel="preload" href="/app-d6d0aa46cc7a8319a706.js"/><link as="script" rel="preload" href="/webpack-runtime-49e87d415bc1f49f59fb.js"/><link rel="preload" href="/static/d/336/path---articles-avoiding-html-5-mistakes-da-6-2b4-Ev8lkJYwMhfUGkvXqNlqCgTjwpE.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="article"><h1 class="article__title">Избегаем популярных ошибок в HTML5</h1><div class="article__date">27 июля 2011</div><div class="article__content"><h1>Избегаем популярных ошибок в HTML5</h1>
<p><a href="http://richclarkdesign.com/">Ричард Кларк</a> 27 июля 2011</p>
<p>Разбирая сайты для <a href="http://html5gallery.com/">Галереи HTML5</a> и отвечая на вопросы читателей на сайте <a href="http://html5doctor.com/">Доктор HTML5</a>, я вынужден просматривать целую кучу страниц на HTML5 и, конечно же, их исходный код. В этой статье я расскажу вам об ошибках и сомнительной разметке, которые мне частенько приходится видеть, и объясню, как их избежать.</p>
<h2>Не используйте <code>&#x3C;section></code> как обёртку для оформления</h2>
<p>Одна из самых распространённых проблем, которую я часто вижу в разметке сайтов — это произвольная замена элементов <code>&#x3C;div></code> структурными элементами из HTML5, особенно замена оформительской обёртки на <code>&#x3C;section></code>. В XHTML или HTML4 я бы увидел что-нибудь такое:</p>
<pre><code>&#x3C;!-- Не копируйте этот код! Он неправильный! -->
&#x3C;div id="wrapper">
    &#x3C;div id="header">  
        &#x3C;h1>Моя супер-пупер страница&#x3C;/h1>
        &#x3C;!-- Содержимое шапки -->
    &#x3C;/div>
    &#x3C;div id="main">
        &#x3C;!-- Содержимое страницы -->
    &#x3C;/div>
    &#x3C;div id="secondary">
        &#x3C;!-- Вторичное содержимое -->
    &#x3C;/div>
    &#x3C;div id="footer">
        &#x3C;!-- Содержимое подвала -->
    &#x3C;/div>
&#x3C;/div>
</code></pre>
<p>Вместо этого я вижу следующее:</p>
<pre><code>&#x3C;!-- Не копируйте этот код! Он неправильный! -->
&#x3C;section id="wrapper">
    &#x3C;header>  
        &#x3C;h1>Моя супер-пупер страница&#x3C;/h1>
        &#x3C;!-- Содержимое шапки -->
    &#x3C;/header>
    &#x3C;div id="main">
        &#x3C;!-- Содержимое страницы -->
    &#x3C;/div>
    &#x3C;section id="secondary">
        &#x3C;!-- Вторичное содержимое -->
    &#x3C;/section>
    &#x3C;footer>
        &#x3C;!-- Содержимое подвала -->
    &#x3C;/footer>
&#x3C;/section>
</code></pre>
<p>Честно говоря, это неправильно: <code>&#x3C;section></code> — это <strong>не обёртка.</strong> <a href="http://html5doctor.com/section">Элемент <code>&#x3C;section></code></a> определяет смысловую секцию содержимого для создания <a href="http://html5doctor.com/outline">структуры документа</a>. Он должен содержать заголовок. Если вы ищете элемент для того чтобы обернуть в него всю страницу (в стиле HTML или XHTML), подумайте, не применить ли стили непосредственно к элементу <code>&#x3C;body></code>, <a href="http://camendesign.com/code/developpeurs_sans_frontieres">как описано у Крока Кеймена</a>. Если же вам всё ещё нужна дополнительная обёртка, используйте <code>&#x3C;div></code>. Раз уж <a href="http://html5doctor.com/div">Доктор Майк объясняет, что <code>&#x3C;div></code> не мёртв</a>, а вам не удаётся найти ничего более удачного, пожалуй, этот элемент будет самым подходящим для создания оформительской обёртки.</p>
<p>Таким образом, корректной разметкой для упомянутого выше примера с использованием HTML5 и пары ролей ARIA будет следующий код. Обратите внимание, что вам, в зависимости от дизайна, всё ещё могут понадобится экстра-элементы <code>&#x3C;div></code>.</p>
<pre><code>&#x3C;body>
    &#x3C;header>  
        &#x3C;h1>Моя супер-пупер страница&#x3C;/h1>
        &#x3C;!-- Содержимое шапки -->
    &#x3C;/header>
    &#x3C;div role="main">
        &#x3C;!-- Содержимое страницы -->
    &#x3C;/div>
    &#x3C;aside role="complementary">
        &#x3C;!-- Вторичное содержимое -->
    &#x3C;/aside>
    &#x3C;footer>
        &#x3C;!-- Содержимое подвала -->
    &#x3C;/footer>
&#x3C;/body>
</code></pre>
<p>Если вы не уверены, какие элементы использовать, я рекомендую вам обратиться к нашей <a href="http://html5doctor.com/happy-1st-birthday-us/#flowchart">пошаговой схеме выбора HTML5-элементов</a> для разметки содержимого.</p>
<h2>Используйте <code>&#x3C;header></code> и <code>&#x3C;hgroup></code> осознанно</h2>
<p>Элемент <code>&#x3C;hgroup></code> удалён из спецификации HTML5 и не рекомендован к использованию, <em>прим. редактора.</em></p>
<p>Нет смысла писать разметку, если этого можно не делать, так ведь? К сожалению, я часто вижу элементы <code>&#x3C;header></code> и <code>&#x3C;hgroup></code> там, где они совсем не нужны. Вы можете узнать все подробности в наших статьях, посвящённых <a href="http://html5doctor.com/header">элементу <code>&#x3C;header></code></a> и <a href="http://html5doctor.com/hgroup">элементу <code>&#x3C;hgroup></code></a>, но я коротко резюмирую:</p>
<ul>
<li>Элемент <code>&#x3C;header></code> представляет собой группу вводного содержимого или навигационных средств и обычно содержит структурный заголовок.</li>
<li>Элемент <code>&#x3C;hgroup></code> группирует набор элементов от <code>&#x3C;h1></code> до <code>&#x3C;h6></code>, представляя собой структурный заголовок в случае, когда заглавие имеет несколько уровней, вроде подзаголовков, альтернативных названий или слоганов.</li>
</ul>
<h3>Злоупотребление <code>&#x3C;header></code></h3>
<p>Думаю, что вы в курсе, что <code>&#x3C;header></code> можно использовать в документе несколько раз. Но эта возможность привела к следующим ошибкам:</p>
<pre><code>&#x3C;!-- Не копируйте этот код! Он неправильный! -->
&#x3C;article>
    &#x3C;header>  
        &#x3C;h1>Мой лучший пост&#x3C;/h1>
    &#x3C;/header>
    &#x3C;!-- Содержимое записи -->
&#x3C;/article>
</code></pre>
<p>Если ваш <code>&#x3C;header></code> содержит единственный заголовок, избавьтесь от ненужного <code>&#x3C;header></code>. Элемент <code>&#x3C;article></code> в любом случае гарантирует, что заголовок войдёт в смысловую структуру документа. И поскольку <code>&#x3C;header></code> не содержит нескольких элементов, как указано в его описании, зачем вам код, который, в общем-то, не нужен? Будьте проще:</p>
<pre><code>&#x3C;article>
    &#x3C;h1>Мой лучший пост&#x3C;/h1>
    &#x3C;!-- Содержимое записи -->
&#x3C;/article>
</code></pre>
<h3>Неправильное использование <code>&#x3C;hgroup></code></h3>
<p>Раз уж зашла речь о заголовках — я часто вижу неправильное использование <code>&#x3C;hgroup></code>. Не следует использовать <code>&#x3C;hgroup></code> в сочетании с <code>&#x3C;header></code> в случае, когда:</p>
<ul>
<li>дочерний заголовок всего один или</li>
<li>элемента <code>&#x3C;hgroup></code> будет достаточно и без <code>&#x3C;header></code>.</li>
</ul>
<p>Первая проблема выглядит так:</p>
<pre><code>&#x3C;!-- Не копируйте этот код! Он неправильный! -->
&#x3C;header>
    &#x3C;hgroup>  
        &#x3C;h1>Мой лучший пост&#x3C;/h1>
    &#x3C;/hgroup>
    &#x3C;p>Ричард Кларк&#x3C;/p>
&#x3C;/header>
</code></pre>
<p>В этом случае стоит избавиться от <code>&#x3C;hgroup></code> и оставить только заголовок:</p>
<pre><code>&#x3C;header>
    &#x3C;h1>Мой лучший пост&#x3C;/h1>
    &#x3C;p>Ричард Кларк&#x3C;/p>
&#x3C;/header>
</code></pre>
<p>Следующая проблема состоит в очередном использовании элементов там, где они необязательны:</p>
<pre><code>&#x3C;!-- Не копируйте этот код! Он неправильный! -->
&#x3C;header>
    &#x3C;hgroup>  
        &#x3C;h1>Моя компания&#x3C;/h1>
        &#x3C;h2>Основана в 1893 году&#x3C;/h2>
    &#x3C;/hgroup>
&#x3C;/header>
</code></pre>
<p>Когда <code>&#x3C;hgroup></code> — это единственный дочерний элемент <code>&#x3C;header></code>, то какой смысл в этом <code>&#x3C;header></code>? Если в нём нет дополнительных элементов, соседствующих с <code>&#x3C;hgroup></code>, смело избавляйтесь от <code>&#x3C;header></code>.</p>
<pre><code>&#x3C;hgroup>  
    &#x3C;h1>Моя компания&#x3C;/h1>
    &#x3C;h2>Основана в 1893 году&#x3C;/h2>
&#x3C;/hgroup>
</code></pre>
<p>Больше примеров использования <code>&#x3C;hgroup></code> вы можете найти <a href="http://html5doctor.com/hgroup">в отдельной, более подробной статье</a>.</p>
<h2>Не оборачивайте все списки ссылок в <code>&#x3C;nav></code></h2>
<p>На момент написания статьи существует <a href="http://dev.w3.org/html5/html4-differences/#new-elements">более 30-ти новых элементов</a> и неудивительно, что у нас разбегаются глаза, когда дело доходит до создания осмысленной структурной разметки. Поэтому не стоит злоупортреблять всеми доступными сейчас суперсемантическими элементами. Что, к сожалению, часто происходит с элементом <code>&#x3C;nav></code>. Спецификация определяет роль <code>&#x3C;nav></code> следующим образом:</p>
<blockquote>
<p>Элемент <code>&#x3C;nav></code> представляет собой часть страницы, которая ссылается на другие страницы или части текущей, то есть раздел с навигационными ссылками.</p>
<p>Замечание: не все группы ссылок на странице должны быть обёрнуты в элемент <code>&#x3C;nav></code> — этот элемент, главным образом, предназначен для группировки главных навигационных блоков. В частности, в подвалах часто содержатся короткие списки ссылок на различные части сайта, вроде правил использования сервиса, домашней страницы и копирайтов. Элемента <code>&#x3C;footer></code> вполне достаточно для группировки такого рода ссылок; и несмотря на то, что элемент <code>&#x3C;nav></code> может быть использован в таких случаях, обычно в этом нет необходимости.</p>
<p><a href="http://www.whatwg.org/specs/web-apps/current-work/complete/sections.html#the-nav-element">Спецификация WHATWG HTML</a></p>
</blockquote>
<p>Ключевая фраза — «главных навигационных блоков». Мы можем дискутировать весь день о значении слова «главный», но для меня это значит:</p>
<ul>
<li>Самая главная навигация;</li>
<li>Поиск по сайту;</li>
<li>Вторичная навигация (что спорно);</li>
<li>Внутренняя навигация (по длинной статье, например).</li>
</ul>
<p>И хотя здесь не может быть «правильного» или «неправильного» использования, поверхностный опрос вкупе с моей собственной интерпретацией говорят, что следующие случаи не подходят для использования <code>&#x3C;nav></code>:</p>
<ul>
<li>Постраничная навигация;</li>
<li>Социальные ссылки, за исключением тех случаев, когда такие ссылки являются основной навигацией, к примеру, на сайтах <a href="http://about.me/">About Me</a> и <a href="http://flavours.me/">Flavours</a>;</li>
<li>Тэги к записи в блоге;</li>
<li>Категории записи;</li>
<li>Навигация третьего уровня;</li>
<li>Подвалы, набитые ссылками.</li>
</ul>
<p>Если вы не уверены, стоит ли оборачивать список ссылок в <code>&#x3C;nav></code>, просто спросите у себя: «главная ли это навигация?» Чтобы было легче ответить на этот вопрос, обратитесь к следующим правилам:</p>
<ul>
<li>«Не используйте <code>&#x3C;nav></code>, если кажется, что в этом случае может подойти и <code>&#x3C;section></code> с заголовком <code>&#x3C;hx></code>», — <a href="http://krijnhoetmer.nl/irc-logs/whatwg/20091209#l-480">Ян Хиксон, IRC</a>.</li>
<li>Добавите ли вы этот блок в список ссылок «перейти» для улучшения доступности?</li>
</ul>
<p>Если ответ на оба эти вопроса «нет», то, скорее всего, это не <code>&#x3C;nav></code>.</p>
<h2>Общие ошибки с элементом <code>&#x3C;figure></code></h2>
<p>Ах, <code>&#x3C;figure></code>. Правильным использованием этого элемента вместе с подельником <code>&#x3C;figcaption></code> не так-то просто овладеть. Рассмотрим некоторые общие проблемы, которые я вижу при использовании <code>&#x3C;figure></code>.</p>
<h3>Не каждая картинка это <code>&#x3C;figure></code></h3>
<p>Ранее я советовал вам не писать лишний код там, где этого не требуется. Та же ошибка и здесь. Я видел сайты, где каждая картинка была обёрнута в <code>&#x3C;figure></code>. Нет никакой необходимости в добавлении экстра-разметки вокруг картинок только ради самого процесса. Вы просто делаете лишнюю работу и нисколько не улучшаете описание содержимого страницы.</p>
<p>Спецификация обозначает <code>&#x3C;figure></code> как «содержимое в потоке, с необязательным заглавием, самодостаточное, обычно упоминаемое в качестве смысловой единицы в основном тексте». Как раз в этом состоит вся красота элемента <code>&#x3C;figure></code>, который может быть перемещён из основного содержимого, скажем, в колонку, что никак не повлияет на основной поток документа.</p>
<p>Если это исключительно оформительская картинка, никаким образом не упомянутая в основном документе, то это точно не <code>&#x3C;figure></code>. Есть и другие варианты использования, но просто спросите себя: «Нужна ли эта картинка для лучшего понимания контекста?» Если нет, то это вероятно не <code>&#x3C;figure></code>, а, возможно, <code>&#x3C;aside></code>. Если да, спросите себя: «Можно ли переместить эту картинку в примечания к тексту?» Если ответ на оба вопроса «да», то это, вероятнее всего, <code>&#x3C;figure></code>.</p>
<h3>Ваш логотип — это не <code>&#x3C;figure></code></h3>
<p>Плавно переходим к следующей проблеме, вышеупомянутые правила применимы и к ней. Вот пара регулярно встречающихся примеров:</p>
<pre><code>&#x3C;!-- Не копируйте этот код! Он неправильный! -->
&#x3C;header>
    &#x3C;h1>
        &#x3C;figure>
            &#x3C;img src="logo.png" alt="Моя компания">
        &#x3C;/figure>
        Название компании
    &#x3C;/h1>
&#x3C;/header>

&#x3C;!-- Не копируйте этот код! Он неправильный! -->
&#x3C;header>  
    &#x3C;figure>
        &#x3C;img src="logo.png" alt="Моя компания">
    &#x3C;/figure>
&#x3C;/header>
</code></pre>
<p>Добавить здесь нечего: это совсем неправильно. Мы можем спорить до посинения насчёт того, должно ли лого находиться внутри <code>&#x3C;h1></code>, но мы здесь не за этим. Настоящая проблема — в неправильном употреблении <code>&#x3C;figure></code>. Этот элемент должен использоваться, только если он упоминается в документе или контексте общего структурного элемента. Будет честным признать, что ваш логотип вряд ли будет упомянут подобным образом. Просто не делайте так. Всё, что вам нужно, это:</p>
<pre><code>&#x3C;header>
    &#x3C;h1>Название компании&#x3C;/h1>
    &#x3C;!-- и всё остальное здесь -->
&#x3C;/header>
</code></pre>
<h3>Элемент <code>&#x3C;figure></code> — это не только картинки</h3>
<p>Другое распространённое заблуждение насчёт <code>&#x3C;figure></code> — что он может быть использован только для картинок. Это не так. Элемент <code>&#x3C;figure></code> может быть видео, аудио, графиком (на SVG, к примеру), цитатой, таблицей, блоком кода, фрагментом текста или любой комбинацией этих и многих других элементов. Не ограничивайте использование <code>&#x3C;figure></code> только картинками. Наша работа, как энтузиастов от веб-стандартов, заключается в том, чтобы максимально точно описывать содержимое при помощи разметки.</p>
<p>Некоторое время назад я <a href="http://html5doctor.com/figure">писал про <code>&#x3C;figure></code> детальнее</a>. Рекомендую почитать, если вам интересно узнать подробности или просто освежить знания.</p>
<h2>Не используйте ненужные атрибуты <code>type</code></h2>
<p>Эта проблема, пожалуй, является самой распространённой среди заявок в Галерею HTML5. И хотя это, по сути, не ошибка, мне кажется, что правильнее будет её избегать.</p>
<p>Дело в том, что в HTML5 не нужно добавлять атрибут <code>type</code> для элементов <code>&#x3C;script></code> и <code>&#x3C;style></code>. Если эти элементы автоматически добавляются вашей CMS, то избавиться от них может быть непросто, но если вы пишете код руками или полностью контролируете шаблоны, то нет никакого смысла писать избыточные атрибуты. Поскольку все браузеры ожидают, что скриптами будет JavaScript, а стилями CSS, вам это совсем не нужно:</p>
<pre><code>&#x3C;!-- Не копируйте этот код! Он неправильный! -->
&#x3C;link type="text/css" rel="stylesheet" href="styles.css">
&#x3C;script type="text/javascript" src="scripts">&#x3C;/script>
</code></pre>
<p>Вместо этого просто напишите:</p>
<pre><code>&#x3C;link rel="stylesheet" href="styles.css">
&#x3C;script src="scripts">&#x3C;/script>
</code></pre>
<p>Кроме того, вы можете уменьшить объём кода, который пишете для задания кодировки документа и других вещей. Глава про семантику в «<a href="http://diveintohtml5.org/semantics.html">Погружении в HTML5</a>» Марка Пилгрима объясняет всё.</p>
<h2>Неправильное использование атрибутов форм</h2>
<p>Вы, должно быть, знаете, что HTML5 предложил набор новых атрибутов для элементов форм. Мы расскажем о них подробнее в ближайшие месяцы, а пока я покажу вам некоторые вещи, которые делать не стоит.</p>
<h3>Одиночные атрибуты</h3>
<p>Некоторые новые атрибуты для элементов форм являются одиночными, и только одно их присутствие в разметке обеспечивает смену поведения. Эти атрибуты включают:</p>
<pre><code>autofocus
autocomplete
required
</code></pre>
<p>Надо признаться, я нечасто встречал подобное, но если в качестве примера взять атрибут <code>required</code>, то попадалось следующее:</p>
<pre><code>&#x3C;!-- Не копируйте этот код! Он неправильный! -->
&#x3C;input type="email" name="email" required="true">
&#x3C;!-- Ещё один плохой пример -->
&#x3C;input type="email" name="email" required="1">
</code></pre>
<p>В конечном счёте это никому не вредит. HTML-парсер видит атрибут <code>required</code> в разметке, поэтому требуемая функциональность будет включена. Но что, если поставить код вверх ногами и написать <code>required="false"</code>?</p>
<pre><code>&#x3C;!-- Не копируйте этот код! Он неправильный! -->
&#x3C;input type="email" name="email" required="false">
</code></pre>
<p>Парсер по-прежнему увидит атрибут <code>required</code> и применит поведение, несмотря на то, что вы пытались сказать ему не делать этого. Явно не то, что вам было нужно.</p>
<p>Существует три правильных способа задания одиночных атрибутов, второй и третий из которых нужны только если вы пишете XHTML:</p>
<pre><code>required
required=""
required="required"
</code></pre>
<p>Если применить эту запись к нашему примеру (в HTML), получится следующее:</p>
<pre><code>&#x3C;input type="email" name="email" required>
</code></pre>
<h2>Резюме</h2>
<p>Было бы просто невозможным перечислить здесь все странные приёмы и образцы разметки, с которыми мне довелось столкнуться, но эти — одни из самых часто встречавшихся. А какие ещё ошибки разметки бросались вам в глаза? Расскажите в комментариях.</p>
<p>Перевод оригинальной статьи «<a href="http://html5doctor.com/avoiding-common-html5-mistakes/">Avoiding common HTML5 mistakes</a>» <a href="http://richclarkdesign.com/">Ричарда Кларка</a> (Richard Clark), опубликованной на сайте <a href="http://html5doctor.com/">HTML5Doctor.com</a>.</p></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-article-jsx","jsonName":"articles-avoiding-html-5-mistakes-da6","path":"/articles/avoiding-html5-mistakes/"};window.dataPath="336/path---articles-avoiding-html-5-mistakes-da-6-2b4-Ev8lkJYwMhfUGkvXqNlqCgTjwpE";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-d6d0aa46cc7a8319a706.js"],"component---src-templates-article-list-jsx":["/component---src-templates-article-list-jsx-b2857871934e9a044ec0.js"],"component---src-templates-article-jsx":["/component---src-templates-article-jsx-45c82757c31814993ac5.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx.4282b1e8f5a862472bb9.css","/component---src-pages-404-jsx-51366b521d977380588a.js"],"component---src-pages-articles-jsx":["/component---src-pages-articles-jsx.4282b1e8f5a862472bb9.css","/component---src-pages-articles-jsx-108f450be88982059d31.js"],"component---src-pages-events-jsx":["/component---src-pages-events-jsx.4282b1e8f5a862472bb9.css","/component---src-pages-events-jsx-60d370274f276520b18e.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx.4282b1e8f5a862472bb9.css","/component---src-pages-index-jsx-37c6ff1321838614c8ad.js"]};/*]]>*/</script><script src="/webpack-runtime-49e87d415bc1f49f59fb.js" async=""></script><script src="/app-d6d0aa46cc7a8319a706.js" async=""></script><script src="/component---src-templates-article-jsx-45c82757c31814993ac5.js" async=""></script></body></html>